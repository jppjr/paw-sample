#Region System
FEEDSTRINGS;
SKIPCHECK;
UNDEFVALS;
#EndRegion

#Region C-Calculation rules: Dimension:Metrics Indicators
#Autogenerated CALC CONSOLIDATED 4D65747269637320496E64696361746F7273
   #Region Dimension:Metrics Indicators, Member:Status
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B5374617475735D
   #@AutoGenerated
   ['Metrics Indicators':{'Status'}]=C:IF(ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Score'])=1, 
   UNDEFINEDCELLVALUE, 
   IF(['Metrics Indicators':'Score']>=0, 
   1, 
   IF(['Metrics Indicators':'Score']>=0-1, 
   0, 
   -1)));
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Trend
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B5472656E645D
   #@AutoGenerated
   ['Metrics Indicators':{'Trend'}]=C:IF(ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Score'])=1%ISUNDEFINEDCELLVALUE(IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   UNDEFINEDCELLVALUE, 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Score')))=1, 
   UNDEFINEDCELLVALUE, 
   IF(ABS(['Metrics Indicators':'Score']-IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   UNDEFINEDCELLVALUE, 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Score')))>1*0.05, 
   SIGN(['Metrics Indicators':'Score']-IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   UNDEFINEDCELLVALUE, 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Score'))), 
   0));
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Tolerance
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B546F6C6572616E63655D
   #@AutoGenerated
   ['Metrics Indicators':{'Tolerance'}]=C:ConsolidatedAvg(3, '', !organization, !Year, !Month, !Revenue, !product, !Metrics Indicators);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Variance
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B56617269616E63655D
   #@AutoGenerated
   ['Metrics Indicators':{'Variance'}]=C:['Metrics Indicators':'Actual']-['Metrics Indicators':'Target'];
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Variance Percent
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B56617269616E63652050657263656E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Variance Percent'}]=C:(['Metrics Indicators':'Actual']-['Metrics Indicators':'Target'])\['Metrics Indicators':'Target'];
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Score
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B53636F72655D
   #@AutoGenerated
   ['Metrics Indicators':{'Score'}]=C:UNDEFINEDCELLVALUE;
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Score Change
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B53636F7265204368616E67655D
   #@AutoGenerated
   ['Metrics Indicators':{'Score Change'}]=C:IF(((ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Score']))=1)%((ISUNDEFINEDCELLVALUE(IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   ['Metrics Indicators':'Trend'], 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Score'))))=1),UNDEFINEDCELLVALUE,IF((ATTRS('Month', !Month, 'previousperiod')@<>''), 
   DB('Revenue Metrics', !organization, !Year, !Month, !Revenue, !product, 'Score')-DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Score'), 
   CONTINUE));
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Actual Change Percent
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B41637475616C204368616E67652050657263656E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Actual Change Percent'}]=C:IF(((ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Actual']))=1)%((ISUNDEFINEDCELLVALUE(IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   ['Metrics Indicators':'Trend'], 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Actual'))))=1),UNDEFINEDCELLVALUE,(((DB('Revenue Metrics', !organization, !Year, !Month, !Revenue, !product, 'Actual')-DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Actual'))\DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Actual'))*100)\100);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Status_1_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B5374617475735F315F436F756E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Status_1_Count'}]=C:IF(['Metrics Indicators':'Status']=1,1,0);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Status_0_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B5374617475735F305F436F756E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Status_0_Count'}]=C:IF((['Metrics Indicators':'Status']=0)&((ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Status']))=0),1,0);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Status_-1_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B5374617475735F2D315F436F756E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Status_-1_Count'}]=C:IF(['Metrics Indicators':'Status']=(-1),1,0);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Status_Incomplete_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B5374617475735F496E636F6D706C6574655F436F756E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Status_Incomplete_Count'}]=C:IF((ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Status']))=1,1,0);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Forecast Status
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B466F726563617374205374617475735D
   #@AutoGenerated
   ['Metrics Indicators':{'Forecast Status'}]=C:IF(ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Forecast Score'])=1, 
   UNDEFINEDCELLVALUE, 
   IF(['Metrics Indicators':'Forecast Score']>=0, 
   1, 
   IF(['Metrics Indicators':'Forecast Score']>=0-1, 
   0, 
   -1)));
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Forecast Trend
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B466F726563617374205472656E645D
   #@AutoGenerated
   ['Metrics Indicators':{'Forecast Trend'}]=C:IF(ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Forecast Score'])=1, 
   UNDEFINEDCELLVALUE, 
   IF(['Metrics Indicators':'Forecast Score']>=0, 
   1, 
   IF(['Metrics Indicators':'Forecast Score']>=0-1, 
   0, 
   -1)));
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Forecast Variance
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B466F7265636173742056617269616E63655D
   #@AutoGenerated
   ['Metrics Indicators':{'Forecast Variance'}]=C:['Metrics Indicators':'Actual']-['Metrics Indicators':'Forecast'];
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Forecast Variance %
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B466F7265636173742056617269616E636520255D
   #@AutoGenerated
   ['Metrics Indicators':{'Forecast Variance %'}]=C:(['Metrics Indicators':'Actual']-['Metrics Indicators':'Forecast'])\['Metrics Indicators':'Forecast'];
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Forecast Score
   #Autogenerated MEMBERCALC CONSOLIDATED 5B4D65747269637320496E64696361746F72735D2E5B466F7265636173742053636F72655D
   #@AutoGenerated
   ['Metrics Indicators':{'Forecast Score'}]=C:UNDEFINEDCELLVALUE;
   #EndRegion
#EndRegion

#Region N-Calculation rules: Dimension:Metrics Indicators
#Autogenerated CALC NUMERIC 4D65747269637320496E64696361746F7273
   #Region Dimension:Metrics Indicators, Member:Status
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B5374617475735D
   #@AutoGenerated
   ['Metrics Indicators':{'Status'}]=N:IF(ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Score'])=1, 
   UNDEFINEDCELLVALUE, 
   IF(['Metrics Indicators':'Score']>=0, 
   1, 
   IF(['Metrics Indicators':'Score']>=0-1, 
   0, 
   -1)));
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Trend
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B5472656E645D
   #@AutoGenerated
   ['Metrics Indicators':{'Trend'}]=N:IF(ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Score'])=1%ISUNDEFINEDCELLVALUE(IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   UNDEFINEDCELLVALUE, 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Score')))=1, 
   UNDEFINEDCELLVALUE, 
   IF(ABS(['Metrics Indicators':'Score']-IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   UNDEFINEDCELLVALUE, 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Score')))>1*0.05, 
   SIGN(['Metrics Indicators':'Score']-IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   UNDEFINEDCELLVALUE, 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Score'))), 
   0));
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Tolerance
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B546F6C6572616E63655D
   #@AutoGenerated
   ['Metrics Indicators':{'Tolerance'}]=N:IF(['Metrics Indicators':'Target']<>0,0.1,CONTINUE);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Variance
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B56617269616E63655D
   #@AutoGenerated
   ['Metrics Indicators':{'Variance'}]=N:['Metrics Indicators':'Actual']-['Metrics Indicators':'Target'];
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Variance Percent
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B56617269616E63652050657263656E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Variance Percent'}]=N:(['Metrics Indicators':'Actual']-['Metrics Indicators':'Target'])\['Metrics Indicators':'Target'];
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Score
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B53636F72655D
   #@AutoGenerated
   ['Metrics Indicators':{'Score'}]=N:UNDEFINEDCELLVALUE;
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Score Change
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B53636F7265204368616E67655D
   #@AutoGenerated
   ['Metrics Indicators':{'Score Change'}]=N:IF(((ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Score']))=1)%((ISUNDEFINEDCELLVALUE(IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   ['Metrics Indicators':'Trend'], 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Score'))))=1),UNDEFINEDCELLVALUE,IF((ATTRS('Month', !Month, 'previousperiod')@<>''), 
   DB('Revenue Metrics', !organization, !Year, !Month, !Revenue, !product, 'Score')-DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Score'), 
   CONTINUE));
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Actual Change Percent
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B41637475616C204368616E67652050657263656E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Actual Change Percent'}]=N:IF(((ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Actual']))=1)%((ISUNDEFINEDCELLVALUE(IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   ['Metrics Indicators':'Trend'], 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Actual'))))=1),UNDEFINEDCELLVALUE,(((DB('Revenue Metrics', !organization, !Year, !Month, !Revenue, !product, 'Actual')-DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Actual'))\DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Actual'))*100)\100);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Status_1_Count
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B5374617475735F315F436F756E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Status_1_Count'}]=N:IF(['Metrics Indicators':'Status']=1,1,0);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Status_0_Count
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B5374617475735F305F436F756E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Status_0_Count'}]=N:IF((['Metrics Indicators':'Status']=0)&((ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Status']))=0),1,0);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Status_-1_Count
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B5374617475735F2D315F436F756E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Status_-1_Count'}]=N:IF(['Metrics Indicators':'Status']=(-1),1,0);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Status_Incomplete_Count
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B5374617475735F496E636F6D706C6574655F436F756E745D
   #@AutoGenerated
   ['Metrics Indicators':{'Status_Incomplete_Count'}]=N:IF((ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Status']))=1,1,0);
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Forecast Status
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B466F726563617374205374617475735D
   #@AutoGenerated
   ['Metrics Indicators':{'Forecast Status'}]=N:IF(ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Forecast Score'])=1, 
   UNDEFINEDCELLVALUE, 
   IF(['Metrics Indicators':'Forecast Score']>=0, 
   1, 
   IF(['Metrics Indicators':'Forecast Score']>=0-1, 
   0, 
   -1)));
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Forecast Trend
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B466F726563617374205472656E645D
   #@AutoGenerated
   ['Metrics Indicators':{'Forecast Trend'}]=N:IF(ISUNDEFINEDCELLVALUE(['Metrics Indicators':'Forecast Score'])=1%ISUNDEFINEDCELLVALUE(IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   UNDEFINEDCELLVALUE, 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Forecast Score')))=1, 
   UNDEFINEDCELLVALUE, 
   IF(ABS(['Metrics Indicators':'Forecast Score']-IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   UNDEFINEDCELLVALUE, 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Forecast Score')))>1*0.05, 
   SIGN(['Metrics Indicators':'Forecast Score']-IF(ATTRS('Month', !Month, 'previousperiod')@='', 
   UNDEFINEDCELLVALUE, 
   DB('Revenue Metrics', !organization, !Year, ATTRS('Month', !Month, 'previousperiod'), !Revenue, !product, 'Forecast Score'))), 
   0));
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Forecast Variance
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B466F7265636173742056617269616E63655D
   #@AutoGenerated
   ['Metrics Indicators':{'Forecast Variance'}]=N:['Metrics Indicators':'Actual']-['Metrics Indicators':'Forecast'];
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Forecast Variance %
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B466F7265636173742056617269616E636520255D
   #@AutoGenerated
   ['Metrics Indicators':{'Forecast Variance %'}]=N:(['Metrics Indicators':'Actual']-['Metrics Indicators':'Forecast'])\['Metrics Indicators':'Forecast'];
   #EndRegion
   #Region Dimension:Metrics Indicators, Member:Forecast Score
   #Autogenerated MEMBERCALC NUMERIC 5B4D65747269637320496E64696361746F72735D2E5B466F7265636173742053636F72655D
   #@AutoGenerated
   ['Metrics Indicators':{'Forecast Score'}]=N:UNDEFINEDCELLVALUE;
   #EndRegion
#EndRegion

#Region Link rule: Revenue Metrics _3C Revenue - Numeric
#Source cube: Revenue
#Target cube: Revenue Metrics
#Autogenerated LINK NUMERIC 7D4C696E6B5F526576656E7565204D657472696373205F334320526576656E7565
#@AutoGenerated
['Metrics Indicators':{'Target','Actual','Forecast'}] = N:DB('Revenue', 
    !organization, 'Channel Total', !product, !Month, !Year, 
    ATTRS('Metrics Indicators', !Metrics Indicators, '}Map_}Link_Revenue Metrics _3C Revenue'), 
    !Revenue);
#EndRegion

#Region C-Calculation rules: Dimension:Revenue
#Autogenerated CALC CONSOLIDATED 526576656E7565
   #Region Dimension:Revenue, Member:Unit Cost
   #Autogenerated MEMBERCALC CONSOLIDATED 5B526576656E75655D2E5B556E697420436F73745D
   #@AutoGenerated
   ['Revenue':{'Unit Cost'}]=C:IF(DTYPE('Month', !Month)@='C', 
   ConsolidateChildren('Month')\ELCOMPN('Month', !Month), 
   CONTINUE);
   #EndRegion
#EndRegion

FEEDERS;
#Region Automatically generated feeders
#Autogenerated AUTOFEEDERS
['Metrics Indicators':'Status'] => ['Metrics Indicators':'Status_0_Count'];
['Metrics Indicators':{'Target', 'Actual'}] => ['Metrics Indicators':'Variance'];
['Metrics Indicators':'Status'] => ['Metrics Indicators':'Status_1_Count'];
['Metrics Indicators':'Actual'] => ['Metrics Indicators':'Actual Change Percent'];
['Metrics Indicators':'Score'] => ['Metrics Indicators':'Status'];
['Metrics Indicators':'Status'] => ['Metrics Indicators':'Status_-1_Count'];
['Metrics Indicators':{'Actual', 'Forecast'}] => ['Metrics Indicators':'Forecast Variance'];
['Metrics Indicators':'Score'] => ['Metrics Indicators':'Trend'];
['Metrics Indicators':'Target'] => ['Metrics Indicators':'Tolerance'];
['Metrics Indicators':'Forecast Score'] => ['Metrics Indicators':'Forecast Status'];
['Metrics Indicators':'Target'] => ['Metrics Indicators':'Variance Percent'];
['Metrics Indicators':'Forecast'] => ['Metrics Indicators':'Forecast Variance %'];
['Metrics Indicators':'Forecast Score'] => ['Metrics Indicators':'Forecast Trend'];
['Metrics Indicators':'Score'] => ['Metrics Indicators':'Score Change'];
#EndRegion